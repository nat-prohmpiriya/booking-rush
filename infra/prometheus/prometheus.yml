# =============================================================================
# Prometheus Configuration
# =============================================================================

global:
  scrape_interval: 15s
  evaluation_interval: 15s

# Enable remote write receiver for OTel Collector
remote_write: []

scrape_configs:
  # Prometheus self-monitoring
  - job_name: 'prometheus'
    static_configs:
      - targets: ['localhost:9090']

  # OTel Collector metrics
  - job_name: 'otel-collector'
    static_configs:
      - targets: ['otel-collector:8888']

  # OTel Collector exported metrics (from Go services)
  - job_name: 'otel-collector-metrics'
    static_configs:
      - targets: ['otel-collector:8889']

  # Go Services (when running locally)
  # Uncomment when services are running
  # - job_name: 'api-gateway'
  #   static_configs:
  #     - targets: ['host.docker.internal:3000']
  #   metrics_path: /metrics

  # - job_name: 'auth-service'
  #   static_configs:
  #     - targets: ['host.docker.internal:3001']
  #   metrics_path: /metrics

  # - job_name: 'ticket-service'
  #   static_configs:
  #     - targets: ['host.docker.internal:3002']
  #   metrics_path: /metrics

  # - job_name: 'booking-service'
  #   static_configs:
  #     - targets: ['host.docker.internal:3003']
  #   metrics_path: /metrics

  # - job_name: 'payment-service'
  #   static_configs:
  #     - targets: ['host.docker.internal:3004']
  #   metrics_path: /metrics

  # Kafka metrics (via JMX exporter if enabled)
  # - job_name: 'kafka'
  #   static_configs:
  #     - targets: ['kafka:9404']
